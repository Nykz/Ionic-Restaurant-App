import{a as c,b as w}from"./chunk-E27WRCEQ.js";import{c as p,j as _,l as v}from"./chunk-36II4WRS.js";import{a as m,b as T,f as r}from"./chunk-RW4GY4BD.js";var b=[{id:"1",cover:"assets/restaurants/1.jpg",name:"Stayfit Kitchen",cuisines:["Indian","Italian","Mexican"],rating:5,delivery_time:25,distance:2.5,price:100,latitude:28.633255,longitude:77.219487,address:"M-Block, Connaught Place, New Delhi, India",user_id:"6",city_id:"1",openTime:"2024-02-29T09:30:00",closeTime:"2024-02-29T23:00:00",created_at:"2023-06-25T12:00:00",updated_at:"2024-06-25T12:00:00"},{id:"2",cover:"assets/restaurants/2.jpg",name:"Healthy Bites",cuisines:["Italian","Mexican","Chinese"],rating:5,delivery_time:25,distance:2.5,price:100,latitude:12.975032,longitude:77.601442,address:"MG Road, Bangalore, India",user_id:"7",city_id:"2",openTime:"2024-02-29T10:00:00",closeTime:"2024-02-29T22:00:00",created_at:"2023-06-25T12:00:00",updated_at:"2024-06-25T12:00:00"},{id:"3",cover:"assets/restaurants/3.jpg",name:"Kolkata Roll Corner",cuisines:["Bengali","Continental"],rating:5,delivery_time:25,distance:2.5,price:100,latitude:22.556437,longitude:88.353179,address:"Elliot Road, Kolkata, India",user_id:"8",city_id:"3",openTime:"2024-02-29T08:00:00",closeTime:"2024-02-29T20:00:00",created_at:"2023-06-25T12:00:00",updated_at:"2024-06-25T12:00:00"},{id:"6",cover:"assets/restaurants/3.jpg",name:"Kolkata Roll",cuisines:["Bengali","Continental"],rating:5,delivery_time:25,distance:2.5,price:100,latitude:28.6541846,longitude:77.2222642,address:"Kashmiri Gate, Near, Lothian Rd, Inter State Bus Terminal, Mori Gate, New Delhi, Delhi, 110006, India",user_id:"9",city_id:"1",openTime:"2024-02-29T09:30:00",closeTime:"2024-02-29T21:30:00",created_at:"2023-06-25T12:00:00",updated_at:"2024-06-25T12:00:00"},{id:"4",cover:"assets/restaurants/spiceofindia.png",name:"Spice of India",cuisines:["Indian","Chinese"],rating:4.8,delivery_time:30,distance:3.2,price:120,latitude:28.652982,longitude:77.193031,address:"Pusa Road, New Delhi, India",user_id:"10",city_id:"1",openTime:"2024-02-29T11:00:00",closeTime:"2024-02-29T23:00:00",created_at:"2023-06-25T12:00:00",updated_at:"2024-06-25T12:00:00"},{id:"5",cover:"assets/restaurants/pizza.jpg",name:"Pizza Hub",cuisines:["Italian","Indian","Spanish"],rating:4.6,delivery_time:20,distance:1.8,price:150,latitude:28.653237,longitude:77.237436,address:"Lal Qila, Chandni Chowk, Delhi, 110006",user_id:"11",city_id:"1",openTime:"2024-02-29T10:00:00",closeTime:"2024-02-29T22:00:00",created_at:"2023-06-25T12:00:00",updated_at:"2024-06-25T12:00:00"}];var f=[{id:"1",name:"Delhi",lat:28.6468935,lng:76.9531791,status:"active",created_at:"2024-05-25T14:01:35.629+00:00",updated_at:"2024-05-25T14:01:35.629+00:00"},{id:"2",name:"Bengaluru",lat:12.95396,lng:77.4908542,status:"active",created_at:"2024-05-25T14:01:35.629+00:00",updated_at:"2024-05-25T14:01:35.629+00:00"},{id:"3",name:"Kolkata",lat:22.556437,lng:88.35317,status:"active",created_at:"2024-05-25T14:01:35.629+00:00",updated_at:"2024-05-25T14:01:35.629+00:00"}];var I=[new c("nykz786@gmail.com","9101000000","Nikhil Agarwal","1","user","active"),new c("technyks@gmail.com","9101000001","Technyks","2","user","active"),new c("codingtechnyks@gmail.com","9101000002","Coding Technyks","3","user","active"),new c("abc@gmail.com","9101000003","Ravi S","4","rider","active",null,"DL05DL4321",28.633255,77.219487,"active"),new c("xyz@gmail.com","9101000004","Xavier","5","rider","active",null,"DL05DL3322",28.633255,77.219487,"active"),new c("agarwal.piyush@gmail.com","9101000022","Piyush A","6","restaurant","active")];var K=(()=>{let s=class s{get profile(){return this._profile.asObservable()}constructor(e){this.authService=e,this._profile=new p(null)}getProfile(){return r(this,null,function*(){try{let e=yield this.authService.getId();console.log("uid: ",e);let t;if(this._profile.value)t=m({},this._profile.value);else{let a=I.find(i=>i.id==e);t=b.find(i=>i.user_id==e),t=T(m({},t),{phone:a==null?void 0:a.phone,email:a==null?void 0:a.email}),console.log("restaurant: ",t)}return this._profile.next(t),t}catch(e){throw e}})}updateProfile(e,t,a){return r(this,null,function*(){try{console.log("param loc: ",a);let i=yield this.authService.getId(),n={id:e==null?void 0:e.id,user_id:i,cover:e.cover,name:t.name,cuisines:e.cuisines,rating:e.rating,delivery_time:t.delivery_time,price:t.price,phone:t.phone,email:t.email,isClose:e.isClose,description:t.description,openTime:t.openTime,closeTime:t.closeTime,address:t.address,status:e.status,totalRating:e.totalRating,latitude:e==null?void 0:e.latitude,longitude:e==null?void 0:e.longitude,city_id:t==null?void 0:t.city_id};return this._profile.next(n),n}catch(i){throw console.log(i),i}})}updateProfileWithEmail(e,t,a,i){return r(this,null,function*(){try{return yield this.updateProfile(e,t,i),e}catch(n){throw n}})}getCities(){return r(this,null,function*(){try{return[...f]}catch(e){throw e}})}uploadPhoto(e){return r(this,null,function*(){try{let t=Date.now(),a=yield this.getBlob(e);console.log(a);let i=`restaurants/${t}.${e.format}`}catch(t){throw t}})}base64ToImage(e){let t=e.split(","),a=atob(t[1]),i=new ArrayBuffer(a.length),n=new Uint8Array(i);for(let o=0;o<a.length;o++)n[o]=a.charCodeAt(o);return new Blob([i],{type:"image/png"})}getBlob(e){let t=e.base64String;console.log(t);let a="",i=512;t=t.replace(/data\:image\/(jpeg|jpg|png)\;base64\,/gi,"");let n=atob(t),g=[];for(let d=0;d<n.length;d+=i){let h=n.slice(d,d+i),y=new Array(h.length);for(let l=0;l<h.length;l++)y[l]=h.charCodeAt(l);let C=new Uint8Array(y);g.push(C)}return new Blob(g,{type:`image/${e.format}`})}updatePicture(e){return r(this,null,function*(){try{return{cover:e}}catch(t){throw t}})}reset(){this._profile.next(null)}};s.\u0275fac=function(t){return new(t||s)(v(w))},s.\u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"});let u=s;return u})();export{I as a,K as b};
