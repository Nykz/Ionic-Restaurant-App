import{a as U}from"./chunk-L5LJPID7.js";import{a as $}from"./chunk-UDTTHNTT.js";import{a as q}from"./chunk-UX7P3H4G.js";import{b as G}from"./chunk-BRGWQJYK.js";import"./chunk-E27WRCEQ.js";import{a as h,b as Y}from"./chunk-FL3AVRJI.js";import{$a as w,A as d,B as p,F as M,J as r,K as l,Kb as z,L as _,Mb as H,Nb as R,Q as g,W as m,Y as b,Z as O,c as v,eb as E,ga as f,ha as P,ia as S,j as C,jb as B,m as x,ma as T,na as D,pb as j,qa as L,rb as F,t as s,u as y,wb as N,x as I,xb as k}from"./chunk-36II4WRS.js";import"./chunk-HTSKCE6I.js";import"./chunk-7KGURMOZ.js";import"./chunk-G2NBWZGV.js";import"./chunk-5ZMMP3RU.js";import"./chunk-NOFUNQAN.js";import"./chunk-TIZDWYJD.js";import"./chunk-GF5ML23A.js";import"./chunk-G3CV3VGG.js";import"./chunk-JX3TYZ34.js";import"./chunk-RUY5SX76.js";import"./chunk-NIOQNOHM.js";import"./chunk-4U6PRYVA.js";import"./chunk-BE36LD5W.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as u}from"./chunk-RW4GY4BD.js";var A=[{id:"1",amount:405,created_at:"2024-06-25T12:00:00",type:"restaurant",uid:"1"}];var J=(()=>{let t=class t{get payouts(){return this._payouts.asObservable()}constructor(){this._payouts=new v([]),this.profileService=x(G)}getPayouts(){return u(this,null,function*(){try{let e=yield this.profileService.getProfile(),o=A.filter(c=>(c==null?void 0:c.type)==h.TYPE&&(c==null?void 0:c.uid)==(e==null?void 0:e.id)),a=this._payouts.value||[];return console.log("currentOrders",a),a=a.concat(o),this._payouts.next(a),o}catch(e){throw e}})}reset(){this._payouts.next(null)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function V(n,t){if(n&1&&_(0,"app-empty-screen",5),n&2){let i=g();p("model",i.model)}}function W(n,t){n&1&&m(0," Restaurant ID ")}function X(n,t){if(n&1&&(r(0,"ion-item",8)(1,"ion-label"),d(2,W,1,0),m(3),r(4,"p"),m(5),f(6,"timestampToDate"),f(7,"date"),l()(),r(8,"ion-text",9)(9,"b"),m(10),f(11,"decimal"),l()()()),n&2){let i=t.$implicit,e=g(2);s(2),M((i==null?null:i.type)=="restaurant"?2:-1),s(),b(" #",i==null?null:i.id," "),s(2),b(" ",S(7,7,P(6,5,i==null?null:i.created_at),"MMM d, y, h:mm a")," "),s(5),O("",e.currency,"",P(11,10,i==null?null:i.amount),"")}}function Z(n,t){if(n&1&&(r(0,"ion-list",6),d(1,X,12,12,"ion-item",7),l()),n&2){let i=g();s(),p("ngForOf",i.payouts)}}var ht=(()=>{let t=class t{constructor(e,o){this.payoutService=e,this.global=o,this.isLoading=!1,this.payouts=[],this.model={icon:"cash-outline",title:"No Payments Done Yet"},this.loadMore=!1,this.noMore=!1,this.limit=10,this.currency=h.CURRENCY}ngOnInit(){this.payoutsSub=this.payoutService.payouts.subscribe({next:e=>{console.log("payouts data: ",e),this.payouts=e},error:e=>{console.log(e)}}),this.getData()}getData(){return u(this,null,function*(){try{this.isLoading=!0,this.global.showLoader(),yield this.payoutService.getPayouts(),this.isLoading=!1,this.global.hideLoader()}catch(e){this.isLoading=!1,this.global.hideLoader(),console.log(e),this.global.errorToast()}})}ngOnDestroy(){this.payoutsSub&&this.payoutsSub.unsubscribe(),this.payoutService.reset()}};t.\u0275fac=function(o){return new(o||t)(y(J),y(Y))},t.\u0275cmp=I({type:t,selectors:[["app-payouts"]],decls:9,vars:2,consts:[["slot","start"],["defaultHref","/tabs/business"],["color","light"],[3,"model",4,"ngIf"],["class","ion-margin",4,"ngIf"],[3,"model"],[1,"ion-margin"],["lines","none","class","ion-margin-bottom",4,"ngFor","ngForOf"],["lines","none",1,"ion-margin-bottom"],["slot","end","color","success"]],template:function(o,a){o&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),_(3,"ion-back-button",1),l(),r(4,"ion-title"),m(5,"Payment History"),l()()(),r(6,"ion-content",2),d(7,V,1,1,"app-empty-screen",3)(8,Z,2,1,"ion-list",4),l()),o&2&&(s(7),p("ngIf",!a.isLoading&&(a.payouts==null?null:a.payouts.length)==0),s(),p("ngIf",!a.isLoading&&(a.payouts==null?null:a.payouts.length)>0))},dependencies:[j,R,E,w,H,B,k,F,N,z,D,T,L,q,U,$],styles:["ion-list[_ngcontent-%COMP%]{background:transparent}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-radius: 10px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500!important}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem;margin-top:5px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:1rem}div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:2.5rem}div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-weight:700;font-size:.8rem}"]});let n=t;return n})();export{ht as PayoutsPage};
